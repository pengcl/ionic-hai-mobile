<ion-header>
  <ion-searchbar debounce="1000" (ionChange)="search($event)" placeholder="搜索"></ion-searchbar>
  <ion-toolbar>
    <ion-segment>
      <ion-segment-button (click)="params.timeOrder === 'desc' ? params.timeOrder = 'asc' : params.timeOrder = 'desc';getData()" value="friends" layout="icon-end">
        <ion-icon [name]="params.timeOrder === 'desc' ? 'md-arrow-down' : 'md-arrow-up'"></ion-icon>
        <ion-label>时间</ion-label>
      </ion-segment-button>
      <ion-segment-button (click)="params.amountOrder === 'desc' ? params.amountOrder = 'asc' : params.amountOrder = 'desc';getData()" value="enemies" layout="icon-end">
        <ion-icon [name]="params.amountOrder === 'desc' ? 'md-arrow-down' : 'md-arrow-up'"></ion-icon>
        <ion-label>金额</ion-label>
      </ion-segment-button>
      <ion-segment-button (click)="cityPicker()" value="city">
        <ion-label>地区</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>
<ion-content>

  <ion-list>
    <ion-item *ngFor="let item of data" [routerLink]="['/pages/nCoV/item',item.id]">
      <ion-label>
        <h3>{{item.name}}</h3>
        <p>{{item.reportDateBegin | date : 'yyyy.MM'}} - {{item.reportDateEnd | date : 'yyyy.MM'}}</p>
      </ion-label>
      <ion-note>{{item.city ? item.city : item.province}}</ion-note>
    </ion-item>
  </ion-list>

  <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
    <ion-infinite-scroll-content
        loadingSpinner="bubbles"
        loadingText="查看更多...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>
